{"version":3,"file":"background.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://instagram-limiter/./src/background.js"],"sourcesContent":["chrome.runtime.onInstalled.addListener(function () {\n  setMidnightAlarm();\n  chrome.storage.local.set({\n    dailyLimit: 0,\n    currCount: 0\n  });\n});\n\n// resetting currCount at midnight\nvar setMidnightAlarm = function setMidnightAlarm() {\n  var midNight = new Date();\n  midNight.setHours(0, 0, 0, 0); // Set to midnight\n\n  chrome.alarms.create('resetCount', {\n    when: midNight.getTime(),\n    periodInMinutes: 1440\n  });\n};\nchrome.alarms.onAlarm.addListener(function (alarm) {\n  if (alarm.name === 'resetCount') {\n    chrome.storage.local.set({\n      currCount: 0\n    });\n  }\n});\n\n//incrementing currCount\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  if (request.action === 'incrementCount') {\n    chrome.storage.local.get(['currCount'], function (result) {\n      var currCount = result.currCount || 0;\n      chrome.storage.local.set({\n        currCount: currCount + 1\n      });\n      sendResponse({\n        newCount: currCount + 1\n      });\n    });\n    return true;\n  }\n});"],"names":[],"sourceRoot":""}